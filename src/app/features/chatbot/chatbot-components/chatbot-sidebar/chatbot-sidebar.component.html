<div class="h-full bg-minsait-gris">
  <app-sidebar
    #sidebar
    [componentId]="'chatbot-sidebar'"
    [isResizable]="true"
    [isCollapsible]="true"
    [minWidth]="'250'"
    >
    <ng-template>
      @if (allowSidebar) {
        <div class="h-full flex flex-col p-4 gap-4 overflow-y-auto">
          
          <!-- New Session Button -->
          <div class="flex flex-row gap-2">
            <app-button-icon #newSessionBtn [icon]="newSessionBtn.iconService.icons.newSession" (click)="createNewSession()"/>
            <app-button-icon #newDocSessionBtn [icon]="newSessionBtn.iconService.icons.newDocumentSession"/>
          </div>
  
          <h3 class="text-lg font-semibold">Chat Sessions</h3>
  
          <!-- Chat Sessions List -->
          <div class="flex flex-col gap-2">
            @for (session of chatSessions; track session.sessionId) {
              <div 
                class="cursor-pointer p-2 rounded-lg hover:ring-2 hover:ring-minsait-pruno-dark"
                [ngClass]="{ 'bg-minsait-fucsia font-semibold': isCurrentSession(session.sessionId) }"
                (click)="selectSession(session.sessionId)"
              >
                <span class="text-sm">{{ session.title }}</span>
              </div>
            }
          </div>
        </div>
      }
    </ng-template>
  </app-sidebar>
</div>
